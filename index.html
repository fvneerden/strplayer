<html>
<header>
  <title>Studio Rheden HLS Player</title>
  <script type="text/javascript">  
    var appInsights = window.appInsights || function (a) { function b(a) { c[a] = function () { var b = arguments; c.queue.push(function () { c[a].apply(c, b) }) } } var c = { config: a }, d = document, e = window; setTimeout(function () { var b = d.createElement("script"); b.src = a.url || "https://az416426.vo.msecnd.net/scripts/a/ai.0.js", d.getElementsByTagName("script")[0].parentNode.appendChild(b) }); try { c.cookie = d.cookie } catch (a) { } c.queue = []; for (var f = ["Event", "Exception", "Metric", "PageView", "Trace", "Dependency"]; f.length;)b("track" + f.pop()); if (b("setAuthenticatedUserContext"), b("clearAuthenticatedUserContext"), b("startTrackEvent"), b("stopTrackEvent"), b("startTrackPage"), b("stopTrackPage"), b("flush"), !a.disableExceptionTracking) { f = "onerror", b("_" + f); var g = e[f]; e[f] = function (a, b, d, e, h) { var i = g && g(a, b, d, e, h); return !0 !== i && c["_" + f](a, b, d, e, h), i } } return c }({ instrumentationKey: "90fe3574-0180-4ce6-bd5d-25b806a4c393" }); window.appInsights = appInsights, appInsights.queue && 0 === appInsights.queue.length && appInsights.trackPageView();
  </script>
</header>

<body>
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <audio id="audio" controls autoplay loop playsinline preload="auto">
    <source src="https://stream.studiorhedenlive.nl/hls/str/str.m3u8" type="application/x-mpegURL" />
  </audio>
  <script>
    var queryString = window.location.search;
  

    if (queryString == null && Hls.isSupported()) {
      var audio = document.getElementById('audio');
      var hls = new Hls();
      hls.loadSource('https://stream.studiorhedenlive.nl/hls/str/str.m3u8');
      hls.attachMedia(audio);
      hls.on(Hls.Events.MANIFEST_PARSED, function () {
        audio.play();
      });
    }
    else if (Hls.isSupported()){
      var audio = document.getElementById('audio');
      var hls = new Hls();   
      hls.loadSource(queryString);
      hls.attachMedia(audio);
      hls.on(Hls.Events.MANIFEST_PARSED, function () {
        audio.play();
      }); 
    }  
            
    
    document.write(queryString);
  </script>
</body>
</html>